<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width" />
    <title>China Covid Risk Area Map</title>
    <link href="style.css" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" href="rzslider.css" />

    <!-- Google fonts-->
    <link
      href="https://fonts.googleapis.com/css?family=Merriweather+Sans:400,700"
      rel="stylesheet"
    />
    <link
      href="https://fonts.googleapis.com/css?family=Merriweather:400,300,300italic,400italic,700,700italic"
      rel="stylesheet"
      type="text/css"
    />

    <!--  import bootstrap css -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-rbsA2VBKQhggwzxH7pPCaAqO46MgnOM80zW1RWuH61DGLwZJEdK2Kadq2F9CUG65"
      crossorigin="anonymous"
    />

    <!-- import leaflet css -->
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.6.0/dist/leaflet.css"
      integrity="sha512-xwE/Az9zrjBIphAcBb3F6JVqxf46+CDLwfLMHloNu6KEQCAWi6HcDUbeOfBIptF7tcCzusKFjFw2yuvEpDL9wQ=="
      crossorigin=""
    />

    <!-- Vanilla Datepicker CSS -->
    <!-- https://www.codehim.com/demo/bootstrap-5-datepicker-with-vanilla-js/ -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/vanillajs-datepicker@1.1.4/dist/css/datepicker.min.css"
    />
  </head>

  <!--  start of body -->

  <body>
    <!--  start of import section -->

    <!--  import bootstrap js -->
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-kenU1KFdBIe4zVF0s0G1M5b4hcpxyD9F7jL+jjXkk+Q2h455rYXK/7HAuoJl+0I4"
      crossorigin="anonymous"
    ></script>

    <!-- import leaflet js -->
    <script
      src="https://unpkg.com/leaflet@1.6.0/dist/leaflet.js"
      integrity="sha512-gZwIG9x3wUXg2hdXF6+rVkLF/0Vi9U8D2Ntg4Ga5I5BZpVkVxlJWbSQtXPSiUTtC0TjtGOmxa1AJPuV0CPthew=="
      crossorigin=""
    ></script>

    <!-- import charts js -->
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>

    <!-- import axios -->
    <script
      src="https://cdnjs.cloudflare.com/ajax/libs/axios/1.1.3/axios.min.js"
      integrity="sha512-0qU9M9jfqPw6FKkPafM3gy2CBAvUWnYVOfNPDYKVuRTel1PrciTj+a9P3loJB+j0QmN2Y0JYQmkBBS8W+mbezg=="
      crossorigin="anonymous"
      referrerpolicy="no-referrer"
    ></script>

    <!-- Vanilla Datepicker JS -->
    <script src="https://cdn.jsdelivr.net/npm/vanillajs-datepicker@1.1.4/dist/js/datepicker-full.min.js"></script>

    <!--  import a script to import seperated HTMLs -->
    <script src="includeHTML.js"></script>
    <!--  <script src="https://www.w3schools.com/lib/w3.js"></script> -->

    <!--  end of import section  -->

    <!--  start of content section -->
    <div w3-include-html="navbar.html"></div>
    <div w3-include-html="header.html"></div>

    <!--  start of map  -->
    <!-- bootstrap pack css into classes -->
    <div class="container-md mt-3">
      <div class="mx-auto">
        <div id="map"></div>
      </div>
    </div>
    <div class="btn btn-primary"></div>
    <!--  end of map  -->

    mediaquery

    <div w3-include-html="slider.html"></div>

    <!-- start of date picker -->
    <div class="mx-auto" style="width: 300px">
      <div class="input-group mt-4">
        <i class="bi bi-calendar-date input-group-text"></i>
        <input
          type="text"
          class="datepicker_input form-control"
          placeholder="Or select a date..."
          required
          aria-label="Date input 3 (using aria-label)"
        />
      </div>
    </div>
    <!-- end of date picker -->
    
    <div w3-include-html="charts.html"></div>

    <!--  start of chart  -->
    <div class="container-md mt-3">
      <div style="height: 80vh">
        <div id="chart"></div>
      </div>
    </div>
    <!--  end of chart  -->

    <!-- <div w3-include-html="timeline.html"></div> -->
    <div w3-include-html="info.html"></div>
    <div w3-include-html="foot.html"></div>

    <script>
      includeHTML();
    </script>

    <!-- execute map script -->
    <script src="dataTransform.js"></script>
    <script src="map.js"></script>
    <script src="slider.js"></script>
    <script src="charts.js"></script>
    <script src="script.js"></script>
    <!--  end of content section -->

    <script>
      /* Bootstrap 5 JS included */
      /* vanillajs-datepicker 1.1.4 JS included */

      const getDatePickerTitle = (elem) => {
        // From the label or the aria-label
        const label = elem.nextElementSibling;
        let titleText = "";
        if (label && label.tagName === "LABEL") {
          titleText = label.textContent;
        } else {
          titleText = elem.getAttribute("aria-label") || "";
        }
        return titleText;
      };

      const elems = document.querySelectorAll(".datepicker_input");
      for (const elem of elems) {
        const datepicker = new Datepicker(elem, {
          format: "dd/mm/yyyy", // UK format
          title: getDatePickerTitle(elem),
        });
      }
    </script>
  </body>
  <!--  end of body -->
</html>
